<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE technique
  SYSTEM "../../xmlspec.dtd">
<technique id="G21">
   <short-name>利用者がコンテンツ内に閉じ込められないことを確認する</short-name>
   <applicability>
      <p>インタラクティブな操作をサポートするウェブコンテンツ技術すべて</p>
   </applicability>
   <applies-to>
      <success-criterion idref="keyboard-operation-trapping" relationship="sufficient"/>
      <!--<conformance-criterion idref="cc7"/>-->
   </applies-to>
   <description>
    <p>この達成方法の目的は、マウス又はポインティングデバイスを使わなければ抜け出すことのできないコンテンツのサブセットに、キーボード利用者が閉じ込められてしまわないようにすることである。よくある事例としては、プラグインによって描画されるコンテンツが挙げられる。プラグインはユーザエージェントであり、ユーザエージェントの親ウィンドウの中にコンテンツを表示したり、プラグインがフォーカスを持っている間に起きる利用者の動作全てに反応したりする。もしプラグインが親ウィンドウへフォーカスを戻すキーボードのメカニズムを提供しない場合、キーボードを使用しなければならない利用者は、プラグインのコンテンツの中に閉じ込められてしまうことがある。</p>
    <p>この問題は、コンテンツのサブセットから抜け出す方法を提供する以下のメカニズムのうちの一つを使うことによって回避することができる。</p>
    <ulist>
      <item>
        <p> コンテンツ内でフォーカスを前進させるためのキーボード機能 (一般的には Tab キー) によって最後のナビゲーション位置に到達した後、コンテンツのサブセットから抜け出せるようにする。</p>
      </item>
      <item>
        <p>コンテンツのサブセットからフォーカスを出すキーボード機能を提供する。サブセット内でアクセシブルな方法によってその機能を必ず明記する。</p>
      </item>
      <item>
        <p>コンテンツのサブセットで用いられているウェブコンテンツ技術が自然に「親コンテンツに戻る」ためのキーボードコマンドを提供している場合、利用者がそのプラグインに入る前に、そのコマンドを明記して利用者がどのように再びプラグインの外に出られるかを分かるようにする。</p>
      </item>
    </ulist>
    <p>コンテンツ制作者が、利用者がキーボードでサブコンテンツに入れてもデフォルトでのキーボード操作ではそのサブコンテンツから出ることができないウェブコンテンツ技術を使っている (すなわち、ウェブコンテンツ技術又はそのユーザエージェントの機能ではない) 場合、この達成方法を実装するためにはウェブコンテンツ制作者はそのような機能をコンテンツ内に構築するか、又はそのウェブコンテンツ技術を使わないか、どちらかにする。</p>
    <a11ysuprorted rating="pass" exnumber="0"/>
  </description>
   <examples>
      <ulist>
         <item>
            <p>いったん利用者がタブ移動でアプレットの中に入ると、それ以降のタブ移動はアプレットによって処理され、その利用者がタブ移動で外に出られないようになっている。しかしながら、そのアプレットは、アプレット内で連続したタブ移動を終えた時、キーボードフォーカスが親ウィンドウに戻るように作られている。</p>
         </item>
         <item>
            <p>アクセシビリティ サポーテッドではないコンテンツを含んでいるページには、キーボードによってアクセシビリティ サポーテッドなコンテンツにフォーカスを戻す方法についての説明がある。その説明は、アクセシビリティ サポーテッドではないコンテンツより前に書かれている。</p>
         </item>
         <item>
            <p>アクセシビリティ サポーテッドではないコンテンツから入手可能なヘルプ情報は、キーボード操作によってアクセシビリティ サポーテッドなコンテンツへフォーカスを戻す方法を説明しており、そのヘルプ情報はキーボードによるアクセスが可能である。</p>
         </item>
         <item>
            <p>ウェブページで入手可能なヘルプ情報は、キーボード操作によってアクセシビリティ サポーテッドではないコンテンツからアクセシビリティ サポーテッドなコンテンツへフォーカスを戻す方法を説明しており、そのヘルプ情報はキーボードによるアクセスが可能である。</p>
         </item>
      </ulist>
   </examples>
   <resources/>
   <related-techniques/>
   <tests>
      <procedure>
      <olist>
        <item>
          <p>Tab キーでコンテンツ内を最初から最後まで移動する。</p>
        </item>
        <item>
          <p>キーボードフォーカスがどのコンテンツにも閉じ込められていない。</p>
        </item>
        <item>
          <p>キーボードフォーカスがコンテンツに閉じ込められてしまう場合、コンテンツから抜け出す方法を説明したヘルプ情報が利用可能であり、キーボード操作でアクセスできることを確認する。</p>
        </item>
      </olist>
    </procedure>
      <expected-results>
         <ulist>
            <item>
               <p>2.の結果が偽である。</p>
                 <trnote><p>「2. 又は 3. のいずれかの結果が真である」となるのが正しいと思われる。</p><!-- WGへの報告状況を再確認する --></trnote>
            </item>
         </ulist>
      </expected-results>
   </tests>
</technique>
