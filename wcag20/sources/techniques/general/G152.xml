<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE technique
  SYSTEM "../../xmlspec.dtd">
<technique id="G152">
   <short-name>(5 秒以内の) 数回のループ後に点滅を停止するように、アニメーション GIF を設定する</short-name>
   <applicability>
      <p>アニメーション GIF (GIF89a) をサポートするあらゆるウェブコンテンツ技術</p>
   </applicability>
   <applies-to>
      <success-criterion idref="time-limits-pause" relationship="sufficient"/>
   </applies-to>
   <description>
    <p>この達成方法の目的は、アニメーション GIF 画像が 5 秒以内に点滅を停止するようにすることである。アニメーション GIF 画像を制作する際には 3 つの側面があり、それらが作用しあって画像が点滅する (あるいは動く) 時間を決定している:</p>
    <ulist>
      <item>
        <p>アニメーション画像に含まれる<emph role="bold">フレーム</emph>数: これらは連続するアニメーションの中では別々の画像である</p>
      </item>
      <item>
        <p><emph role="bold">フレームレート</emph>: それぞれの画像を表示する時間</p>
      </item>
      <item>
        <p><emph role="bold">繰り返し</emph>の回数: アニメーション全体を再生させる回数</p>
      </item>
    </ulist>
    <p>一番単純な場合では、アニメーションの再生時間は、フレーム数×フレームレート×繰り返し回数である。例えば、2 フレームでフレームレートが 0.5 秒、繰り返しが 3 回の単純な点滅する画像では、再生時間は (2×0.5×3) 秒、即ち、ちょうど 3 秒である。</p>
    <p>多くのアニメーション GIF 画像のフレームレートは一定である。すなわち、個々のフレームが表示される時間は同じである。しかし、フレームに対して異なるフレームレートを設定することもでき、特定のフレームのみ他より長く表示させることが可能である。この場合、アニメーションの再生時間は、フレームレートの合計×繰り返し回数である。例えば、2 フレームで、1 枚目が 0.75 秒表示、2 枚目が 0.25 秒表示され、繰り返しが 3 回の単純な画像では、再生時間は ((0.75+0.25)×3) 秒、同様にちょうど 3 秒となる。</p>
    <p>5 秒以内に画像の点滅を終了させるためには、3 つの変数のうちのいずれかを調整しなければならない。最も一般的には、繰り返しの回数を 5 秒÷フレーム数×フレームレート (又は 5 秒÷フレームレートの合計) に設定し、5 秒以内に画像を終了させるために、最も近い整数になるようにこの数字の端数を切り捨てる。一つ上の整数に切り上げてはならない。</p>
    <p>繰り返しが 1 回で 5 秒を超える場合は、別の要素のうちの一つを調整しなければならない。画像の中のフレーム数を減らす、又はフレームレートを増やす。フレームレートを増やす場合は、変更後の画像が一般閃光閾値又は赤色閃光閾値を超えないという要求事項に不合格とならないように留意すること。これは大きな画像では特に重要であるので注意すること。</p>
  </description>
   <examples>
      <ulist>
         <item>
            <p>
                <emph role="bold">単純な点滅する画像:</emph>
                フレーム数が 2、フレームレートが 0.5 秒で繰り返しが 3 回の画像がある。アニメーションの再生時間は (2×0.5×3) 秒、すなわち 3 秒ちょうどとなり、したがって達成基準の要件を満たす。</p>
         </item>
      </ulist>
   </examples>
   <tests>
      <procedure>
      <olist>
        <item>
          <p>アニメーション GIF を表示させ再生時間を調べる。</p>
        </item>
        <item>
          <p>別の方法として、画像編集ソフトを使用してフレーム数、フレームレート及び繰り返し回数を確認する。フレーム数×フレームレート×繰り返し回数を計算する。フレームレートが一つでない場合は、フレームレートの合計×繰り返し回数を計算する。</p>
        </item>
        <item>
          <p>アニメーションの再生時間が 5 秒以内である。</p>
        </item>
      </olist>
    </procedure>
      <expected-results>
         <ulist>
            <item>
               <p>3. を満たしている。</p>
            </item>
         </ulist>
      </expected-results>
   </tests>
</technique>
